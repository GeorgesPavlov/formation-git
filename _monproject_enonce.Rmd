---
title: "monProjet_enonce"
author: "Annie Moineau"
date: "`r format (Sys.time(), '%d %B, %Y')`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Objectif

L'objectif est d'exploiter et analyser les données sur les naissances 2017. L'analyse sera centrée sur les 3 axes définis dans l'expression des besoins. Le travail sera réalisé en mode collaboratif par des équipes de 2 à 4 personnes.

* Un premier temps sera consacré à la production d'une première version de document
* Un second temps sera consacré aux modifications  (amélioration, évolution, modifications).

## Le produit attendu

* Un rapport au format html centralisant les résutats attendus. Ce rapport sera généré par un fichier R Markdown
* Le rapport final ainsi que les fichiers constitutifs du projet seront contenus dans un projet `monprojet.Rproj`. 
* Ce projet sera d'une part stocké sur Gitlab, d'autre  part accédé via R Studio par chaque contributeur. 


## Expression des besoins

L'étude des naissances sera réalisée sur une région au choix. Elle devra comporter les éléments suivants : 

* Un rapide descriptif de la source 
* Nombre de naissance dans la région choisie et comparaison avec les autres régions de France hexagonale
* Part des naissances hors mariage pour chaque région
* Part des naissances hors mariage par tranche d'âge de la mère pour la région de votre choix, avec comparaison France métropolitaine.

Les 3 derniers parties devront intégrer des illustrations de votre choix ou celles proposées. 
Le texte devra contenir au moins un résulat d'une instruction R.


## Données mobilisées

* Fichier des naissances 2017 présent sous GEN, également déposé dans le répertoire donnees situé à la racine du projet (_attention, il y a un piège à éviter_).


## Organisation de l'équipe projet

###  Comment s'organiser ?

... Proposition des stagiaires ...

###  Comment s'organiser ?

Pour le temps un :

* A. Se mettre d'accord sur la trame qui sera le squelette du rapport
* B. Identifier les tâches
* C. Se mettre d'accord sur l'organisation des fichiers, et les branches à créer
* D. Affecter les tâches (possibilité de le faire sur Trello si l'équipe est d'accord)
* E. (si nécessaire prioriser les tâches)
* F. Assembler les pièces

Pour le temps 2 : 

* A. Mettre en oeuvre les modifications demandées.
* B. Mettre à jour le dépôt distant


## Organisation de l'équipe projet - étape 1/4

### Proposition pour le temps un : 

* **A. se mettre d'accord sur une trame de travail qui sera le squelette du rapport:** 

    1. Source et définition : quelles naissances (naissances vivantes)
    2. Nombre de naissances vivantes en 2017 par région ?
        * tableau
        * histogramme, carte ... 
    3. Part de naissances vivantes, hors mariage en 2017 par région ?
        * tableau
        * histogramme, carte ...
    4. Nombre de naissances vivantes en 2017 par tranche d'âge ?
        * tableau
        * histogramme  
* B. Identifier les tâches 
* C. Se mettre d'accord sur l'organisation des fichiers, et les branches à créer
* D. Affecter les tâches
* E. (prioriser les tâches)
* F. Assembler les pièces

## Organisation de l'équipe projet - étape 2/4 

* A. se mettre d'accord sur une trame de travail qui sera le squelette du rapport 
* **B. Identifier les tâches : ** 
    * Créer le projet 
    * Initier le document Rmardown avec le squelette  de la trame de travail
    * récupérer et vérifier les données 
    * préparer les données 
    * produire les données pour la carte de naissance 
    * produire les données sur les part de naissance hors mariage ?
    * produire les données sur les parts de naissances hors mariage par tranche d'âge 
    * fonction qui génère la carte des naissances vivantes 2017 
    * fonction qui génère l'histogramme des part de naissance hors mariage par région 
    * `Remarque :`  
    `Lors de cette étape penser : 1. reproductibilité. 2. quelles instructions externaliser du fichier Rmd ?`
    
* C. Se mettre d'accord sur l'organisation des fichiers, et les branches à créer
* D. Affecter les tâches
* E. (si nécessaire, prioriser les tâches)
* F. Assembler les pièces

## Organisation de l'équipe projet - étape 2/4 bis

* A. se mettre d'accord sur une trame de travail qui sera le squelette du rapport 
* **B. Identifier les tâches : ** 
    * Créer le projet 
    * Initier le document Rmardown avec le squelette  de la trame de travail
    * récupérer et vérifier les données **--> coeur de l'instruction R dans un chunk ou dans un script R ?**
    * préparer les données **--> même question **
    * produire les données pour la carte de naissance **--> même question **
    * produire les données sur les part de naissance hors mariage **--> même question **
    * produire les données sur les parts de naissances hors mariage par tranche d'âge **--> même question **
    * fonction qui génère la carte des naissances vivantes 2017 **--> même question **
    * fonction qui génère l'histogramme des part de naissance hors mariage par région **--> même question **
    * `Remarque : `  
    `Lors de cette étape penser : 1. reproductibilité. 2. quelles instructions externaliser du fichier Rmd ?`
    
* C. Se mettre d'accord sur l'organisation des fichiers, et les branches à créer
* D. Affecter les tâches
* E. (si nécessaire, prioriser les tâches)
* F. Assembler les pièces

## Organisation de l'équipe projet - étape 3/4

* A. se mettre d'accord sur une trame de travail qui sera le squelette du rapport 
* B. Identifier les tâches 
* **C. Se mettre d'accord sur l'organisation des fichiers, , et les branches à créer**

    * Un exemple d'arborescence de projet
    
    ![](./pics/exple_arborescence.png)
    
    * Créer une branche par partie
    
    
* **D. Affecter les tâches**
* **E. (si nécessaire, prioriser les tâches)**
* F. Assembler les pièces

## Organisation de l'équipe projet - étape 4/4

* A. se mettre d'accord sur une trame de travail qui sera le squelette du rapport 
* B. Identifier les tâches  
* C. Se mettre d'accord sur l'organisation des fichiers, et les branches à créer
* D. Affecter les tâches
* E. (si nécessaire, prioriser les tâches)
* **F. Assembler les pièces**
    
    * Intégerer les éléments dans le document squelette Rmd
        * quelles instructions R externaliser du fichier R Markdown
    * commiter via Git depuis RStudio (_attention, il y a un piège_)
    * mettre à jour le dépôt via Git depuis RStudio et Gitlab
    
## Réaliser ce premier document qui contiendra à la fois résultats et commentaires associés.
 
A vous de jouer !


![](./pics/partonsalaventure.gif)





## Correction 



## Demande de modifications

L'un des avantages de R Mardown est la mise à jour dynamique de document. Nous allons voir comment intégrer facilement : 

* d'évolution
* amélioration
* modification

### Cas d'une demande d'amélioration
Améliorer les illustrations : Titre, étiquette des données, couleurs, ... 

### Cas d'une demande d'évolution
Produire le même rapport avec les données millésimées 2018.

### Cas d'une demande de modification
Finalement la maitrise d'ouvrage/le partenaire suggère une analyse par département. Apporter les modifications nécessaires pour produire ce nouveau rapport.

## Correction
